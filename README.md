<p align="center">
  <img src="https://avatars.githubusercontent.com/u/213296862" alt="Hammer Lua Engine Logo" width="250"/>
</p>

<h1 align="center">ğŸ”¨ Hammer</h1>

<p align="center">
  <strong>A Lua/MoonScript Framework for AzerothCore Modding</strong>
  <br />
  Bringing TsWow-like functionality to the Lua ecosystem.
</p>

<p align="center">
   <img src="https://img.shields.io/badge/license-GPL_v3-blue.svg" alt="License">
  <img src="https://img.shields.io/badge/language-Lua%2FMoonScript-blue.svg" alt="Language">
  <img src="https://img.shields.io/badge/status-Early%20Development-yellow.svg" alt="Status">
</p>

---

**Hammer** is a modern Lua/MoonScript framework designed for **AzerothCore** modding. Inspired by TsWow, Hammer aims to provide a clean, intuitive, and powerful way to create database-driven content for World of Warcraft servers using familiar Lua scripting patterns.

## âœ¨ Why Hammer?

*   ğŸ¯ **AzerothCore Focused**: Built specifically for AzerothCore, ensuring perfect compatibility.
*   ğŸŒ™ **MoonScript Power**: Leverage MoonScript's elegant syntax for cleaner, more maintainable code.
*   ğŸ—ƒï¸ **Database-First Approach**: Streamlined database object management and SQL generation.
*   ğŸ”§ **Developer-Friendly**: Intuitive API design inspired by modern frameworks.
*   ğŸ“¦ **Modular Architecture**: Clean separation of concerns with a well-structured codebase.

## ğŸš€ Features

### Current Features (v0.1)
*   **Database Object Framework**: Clean abstraction for database table management
*   **Automatic SQL Generation**: Generate INSERT/UPDATE queries with duplicate key handling
*   **Creature Template Support**: Full creature_template table management
*   **NPC Flags Enums**: Comprehensive NPC flag definitions
*   **Logging System**: Built-in logging for debugging and monitoring
*   **Batch Query Processing**: Efficient query batching and flushing

### Planned Features
*   **Extended Database Tables**: Support for items, spells, quests, and more
*   **DBC Support**: Insert, update, delete data inside DBC files
*   **Live Database Integration**: Direct database connectivity
*   **Hot Reloading**: Dynamic script reloading without server restart
*   **Advanced Validation**: Data validation and error handling
*   **Template System**: Pre-built templates for common use cases
*   **Documentation Generator**: Auto-generate documentation from code

## ğŸ—ï¸ Architecture

```
hammer/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ common/                         # Core utilities and base classes
â”‚   â”‚   â”œâ”€â”€ Database.moon               # Database connection and query management
â”‚   â”‚   â”œâ”€â”€ DatabaseObject.moon         # Base class for database entities
â”‚   â”‚   â””â”€â”€ Logger.moon                 # Logging system
â”‚   â”œâ”€â”€ context/                        # Database context and models
â”‚   â”‚   â””â”€â”€ db/                         # Database table models
â”‚   â”‚       â””â”€â”€ creature_template.moon
â”‚   â””â”€â”€ enums/                          # Game constants and enumerations
â”‚       â””â”€â”€ npc_flags.moon
â”œâ”€â”€ workspace/
â”‚   â”œâ”€â”€ inputs/                         # Your mod scripts
â”‚   â””â”€â”€ outputs/                        # Generated SQL files
â””â”€â”€ packages.moon                       # Module loader
```

## ğŸ”§ Quick Start

### Prerequisites
*   MoonScript compiler
*   AzerothCore server
*   Basic knowledge of Lua/MoonScript

### Installation
1. Clone the repository:
   ```bash
   git clone https://github.com/iThorgrim/Hammer.git
   cd Hammer
   ```

2. Install MoonScript:
   ```bash
   luarocks install moonscript
   ```

3. Run:
   ```bash
   moon main.moon
   ```

### Basic Usage

Create a new creature template:

```moonscript
-- workspace/inputs/my_creature.moon
creature = Core.Context.DB.CreatureTemplate(123450)
creature\SetName "My Custom Creature"
creature\SetLevel 80
creature\SetFaction 35
creature\SetFlag NPC_FLAG.VENDOR.GENERIC
creature\Flush!
```

This generates SQL output in `workspace/outputs/test.sql`:

```sql
-- Generated by Hammer from Forge project!
-- Generated at: ...
INSERT INTO creature_template (entry, name, minlevel, maxlevel, faction, npcflag) 
VALUES (123450, "My Custom Creature", 80, 80, 35, 128) 
ON DUPLICATE KEY UPDATE name = "My Custom Creature", minlevel = 80, maxlevel = 80, faction = 35, npcflag = 128;
```

## ğŸ“– API Documentation

### Database Objects

All database objects extend `Core.Common.DatabaseObject` and provide:

*   **Fluent Interface**: Method chaining for clean code
*   **Automatic Dirty Tracking**: Only modified objects generate SQL
*   **Type Safety**: Proper value handling for strings and numbers
*   **Batch Processing**: Efficient query generation

### CreatureTemplate

```moonscript
creature = Core.Context.DB.CreatureTemplate(entry_id)
creature\SetName("Creature Name")
creature\SetSubName("Creature Title")
creature\SetLevel(min_level, max_level)  -- max_level optional
creature\SetFaction(faction_id)
creature\SetFlag(npc_flag)
creature\Flush!  -- Generate SQL
```

### NPC Flags

```moonscript
-- Available flags
NPC_FLAG.NONE
NPC_FLAG.GOSSIP
NPC_FLAG.QUEST_GIVER
NPC_FLAG.TRAINER.GENERIC
NPC_FLAG.TRAINER.CLASS
NPC_FLAG.TRAINER.PROFESSION
NPC_FLAG.VENDOR.GENERIC
NPC_FLAG.VENDOR.AMMO
NPC_FLAG.VENDOR.FOOD
-- ... and many more
```

## ğŸ› ï¸ Development Status

**Current Version**: 0.1.0 (Early Development)

This is the initial release of Hammer, focusing on core functionality and architecture. The framework is functional but minimal, with continuous updates planned.

### Roadmap
- [ ] Extended database table support
- [ ] Live database connectivity
- [ ] Advanced validation system
- [ ] Template system
- [ ] Documentation generator
- [ ] Plugin system
- [ ] Performance optimizations

## ğŸ¤ Contributing

We welcome contributions! Here's how you can help:

1. **Report Issues**: Found a bug? Open an issue on GitHub.
2. **Suggest Features**: Have an idea? We'd love to hear it.
3. **Submit Pull Requests**: Code contributions are always welcome.
4. **Improve Documentation**: Help make Hammer more accessible.

### Development Setup
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## ğŸ“ License

Hammer is licensed under **GPL v3**. See [LICENSE](LICENSE) for details.

## ğŸ™ Acknowledgments

*   **TsWow Team**: For the inspiration and architectural ideas
*   **AzerothCore Team**: For the amazing server core
*   **MoonScript Community**: For the beautiful language
*   **Eluna Engine**: For pioneering Lua scripting in WoW

---

<p align="center">
  <strong>Hammer - Forging the future of AzerothCore modding</strong>
</p>